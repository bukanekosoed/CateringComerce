{% extends "user/base.html" %}

{% block title %}
Daftar Akun
{% endblock %}

{% block content %}
<section class="overflow-hidden bg-secondary">
    <div class="container py-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col col-xl-10">
                <div class="card rounded-5 overflow-hidden">
                    <div class="row">
                        <div class="col-md-6 col-lg-5 d-none d-md-block">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp"
                                alt="login form" class="img-fluid h-100" />
                        </div>
                        <div class="col-md-6 col-lg-7 d-flex align-items-center">
                            <div class="card-body p-3 p-lg-5 text-black">
                                <div class="d-flex align-items-center pb-1 text-primary h1 fw-bold mb-3">
                                    Langgeng <span class="h1 fw-bold mb-0 text-secondary">Catering</span>
                                </div>
                                <h5 class="fw-normal mb-4 pb-3" style="letter-spacing: 1px;">Masuk Ke Akun Anda</h5>
                                <form method="post" action="{{ url_for('auth.register') }}"
                                    enctype="multipart/form-data">
                                    <div class="login-form">

                                        <!-- Nama Lengkap -->
                                        <div class="form-floating mb-2">
                                            <input type="text" class="form-control" id="name" name="name"
                                                placeholder="Enter your name" pattern="^[A-Za-z\s]+$"
                                                title="Hanya diperbolehkan huruf dan spasi" required
                                                value="{{ request.form.get('name', '') }}" autocomplete="name"
                                                aria-describedby="nameHelp">
                                            <label for="name">Nama Lengkap</label>
                                            <div id="nameHelp" class="form-text text-danger" style="display: none;">
                                                Input hanya boleh berupa huruf dan spasi.
                                            </div>
                                        </div>

                                        <!-- Email -->
                                        <div class="form-floating mb-2">
                                            <input type="email" class="form-control" id="inputEmail"
                                                placeholder="Enter your email" name="email" autocomplete="email"
                                                required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                                                title="Masukkan alamat email yang valid">
                                            <label for="inputEmail">Alamat Email</label>
                                            <div id="emailHelp" class="form-text text-danger" style="display: none;">
                                                Masukkan email yang valid, misalnya user@example.com.
                                            </div>
                                        </div>

                                        <!-- Nomor Telepon -->
                                        <div class="form-floating mb-2">
                                            <input type="text" class="form-control" id="inputPhone"
                                                placeholder="Enter your phone number" name="phone" required
                                                minlength="11" maxlength="14" pattern="^08\d{9,12}$" autocomplete="tel">
                                            <label for="inputPhone">Nomor Telepon</label>
                                            <div id="phoneHelpStart" class="form-text text-danger"
                                                style="display: none;">
                                                Nomor telepon harus diawali dengan 08.
                                            </div>
                                            <div id="phoneHelpLength" class="form-text text-danger"
                                                style="display: none;">
                                                Nomor telepon harus terdiri dari 11 hingga 14 digit.
                                            </div>
                                        </div>


                                        <!-- Kata Sandi -->
                                        <div class="form-floating mb-2 position-relative">
                                            <input type="password" class="form-control" id="inputPassword"
                                                placeholder="Enter your password" name="password"
                                                autocomplete="new-password" required>
                                            <label for="inputPassword">Kata Sandi</label>
                                            <i class="fa fa-eye-slash toggle-password" toggle="#inputPassword"
                                                style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"
                                                aria-label="Tampilkan atau sembunyikan kata sandi"></i>
                                        </div>

                                        <!-- Konfirmasi Kata Sandi -->
                                        <div class="form-floating mb-2 position-relative">
                                            <input type="password" class="form-control" id="inputConfirmPassword"
                                                placeholder="Confirm your password" name="confirmPassword"
                                                autocomplete="new-password" required>
                                            <label for="inputConfirmPassword">Konfirmasi Kata Sandi</label>
                                            <i class="fa fa-eye-slash toggle-password" toggle="#inputConfirmPassword"
                                                style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"
                                                aria-label="Tampilkan atau sembunyikan kata sandi"></i>
                                        </div>
                                        <div id="passwordError" class="text-danger"
                                            style="display: none; font-size: 0.875rem;">
                                            Kata sandi dan konfirmasi kata sandi tidak sama.
                                        </div>

                                        <!-- Submit -->
                                        <button type="submit"
                                            class="btn btn-primary login-btn d-block mx-auto w-100 mb-3 shadow-sm rounded-3">Daftar</button>
                                        <p class="text-center small">Anda Sudah Punya Akun? <a
                                                href="{{ url_for('auth.login') }}"
                                                class="text-decoration-none text-primary">Masuk Disini</a></p>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}